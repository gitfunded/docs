<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">Github API - The easy way! | GitFunded</title><meta data-react-helmet="true" property="og:title" content="Github API - The easy way! | GitFunded"><meta data-react-helmet="true" name="description" content="Hey there!"><meta data-react-helmet="true" property="og:description" content="Hey there!"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.f86cf9e6.css">
<link rel="preload" href="/styles.30796e76.js" as="script">
<link rel="preload" href="/runtime~main.600ba3f2.js" as="script">
<link rel="preload" href="/main.6dc74b02.js" as="script">
<link rel="preload" href="/1.e89857be.js" as="script">
<link rel="preload" href="/2.6515a71b.js" as="script">
<link rel="preload" href="/3.0c5af7b6.js" as="script">
<link rel="preload" href="/ccc49370.ae24a7e2.js" as="script">
<link rel="preload" href="/bea12b8e.71c67f4e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/gitfunded-logo.png" alt="GitFunded Logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gitfunded" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/gitfunded-logo.png" alt="GitFunded Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/gitfunded" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_2RZH">Github API - The easy way!</h1><div class="margin-vert--md"><time datetime="2020-05-18T00:00:00.000Z" class="blogPostDate_3tRe">May 18, 2020  · 5 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/abhinav-anshul" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/26833319?s=460&amp;v=4" alt="Abhinav Anshul"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/abhinav-anshul" target="_blank" rel="noreferrer noopener">Abhinav Anshul</a></h4><small class="avatar__subtitle">Frontend Engineer, Consenso Labs</small></div></div></header><section class="markdown"><p>Hey there!</p><p>In this blog post, I will walk you through how we can connect and interact with Github API without the hassle.</p><p>Github API documentation is packed with tons of features and endpoints, which could result in information overload especially if anyone is starting first, at least what happened in my case.</p><p>So the goal of this blog post is how we can set up our application and interact with Github API.</p><p>If we head over to <a href="https://developer.github.com/v3/" target="_blank" rel="noopener noreferrer"><strong>Github Developer</strong></a>, we can see details related to GitHub REST API version 3, including various Root endpoints, Authentication, Schema and so on.</p><p>The API access is via HTTPS with the base endpoint hitting at <code>https://api.github.com</code>. However, we cannot access the private information of any repository of any user without any kind of authentication.</p><p>Therefore, We have various ways to authenticate through GitHub API v3. If we try to fetch information that requires any kind of authentication, it will return either <code>404 Not Found</code> or <code>403 Forbidden</code></p><p>The GitHub API provides us two ways for authentication to get access to private details from the repository.</p><p><strong>1.</strong> <em>Basic Authentication : Using username as query parameters</em></p><p><strong>2.</strong> <em>OAuth2 Token : Using Auth Token</em></p><p>While with the basic authentication, the user access would be very limited to the GitHub, It is advisable to go with the Auth Token based approach.
Therefore, Let&#x27;s go step-by-step with our 2nd approach.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="building-oauth-applications"></a>Building OAuth Applications<a aria-hidden="true" tabindex="-1" class="hash-link" href="#building-oauth-applications" title="Direct link to heading">#</a></h3><p>Building an OAuth application using GitHub consists of basically <strong>2</strong> key points, as mentioned below:</p><p><strong>1.</strong> <strong>Creating an OAuth App</strong> : Go to <a href="https://github.com/settings/developers" target="_blank" rel="noopener noreferrer"><strong>Developer Settings</strong></a> , and register a new application.
we need to provide the following fields :</p><ol><li>Application Name : Name of the application</li><li>Homepage URL : The address of the application, If you&#x27;re in development mode, you can put <code>localhost:3000</code></li><li>Application Description : A basic description of what you&#x27;re building.</li><li>Application Callback URL : A callback URL, to which the application would return after GitHub authentication</li></ol><p>The point of submitting the details is we get a <em>client_id</em> which we will use further below</p><p><img src="/img/oauth.PNG" alt="oauth"></p><p><strong>2</strong> <strong>Authorizing OAuth Apps</strong> : This is the most crucial step where the authentication happens.you can enable users to authorize your apps using either traditional way such as <em>Redirect URLs</em> , <em>Non-Web application flow</em> or using a more modern approach such as <em>Web-application</em> flow, which we are going to discuss here.</p><p>First, send the request to the Github API using <em>client ID</em> as a query parameter and a redirection URL (it would possibly be your localhost), as shown below:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://github.com/login/oauth/authorize?client_id=${CLIENT_ID}&amp;scope=user&amp;redirect_uri=${REDIRECT_URI};</span></div></div></div></div></div><p>You might trigger this link on a button click, in your application. The application would jump to a new URL then after getting a <em>unique code</em> it would redirect back your application (in this case the <code>localhost</code>).</p><p>Now, according to the GitHub developer documentation, we can exchange this <code>code</code> for our <code>access token</code>, now with the access token, we can pretty much send all kind of private requests to the GitHub, for that to be done, we need to send the <code>code</code> as a query parameters as well, <em>but where??</em></p><p><em>There are various third party middleware that provides this service, one such very popular project is called</em> <a href="https://github.com/prose/gatekeeper" target="_blank" rel="noopener noreferrer">Gatekeeper</a> <em>This would act as middleware and exchange your <code>code</code> with an <code>access token</code></em></p><p><em>But what is Gatekeeper and how does it solve our problem?</em>
Well, due to security limitations called cross origin browser compatiblity, GitHub does not allow the implementation of any OAuth Web application from client side. So third party libraries like Gatekeeper tricks the API and joins the missing piece of the puzzle. It enables client side application authentication to the GitHub developer API.</p><p>However, GitHub is in works to solve this issue of including a 3rd party middleware workaround, and could come up with a solution very soon hopefully.</p><p>The Gatekeeper library works very well with <em>github.js</em> (which helps in accessing the GitHub API from the browser)</p><p>You can send request as follows :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fetch(`https://yourOwnCreatedDomainUsingGatekeeper.herokuapp.com/authenticate/${code}`)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .then(response =&gt; response.json())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .then(({ token }) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            console.log(&quot;Access Token&quot;, token)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        };</span></div></div></div></div></div><p>After successfully getting the <em>access token</em> , now we can send <em>authenticated</em> network request with the access token in our header to the GitHub API endpoints mentioned in the documentation.</p><p><em>An easy to understand diagram covering important points in this post</em></p><p><img src="/img/oauth2.png" alt="oauth"></p><p>You can either use <code>raw GitHub endpoints</code> as it is in the documentation or use a high-level wrapper which makes things incredibly easier according to the programming language of our choice while making endpoint requests.</p><p>One such very popular and official high-level wrapper for handling GitHub endpoint requests is <a href="https://github.com/octokit" target="_blank" rel="noopener noreferrer">Octokit</a>. It makes things easier, and the documentation is well-written.</p><p>I have created a simple page where on click of a button, the user will be authenticated likewise the steps mentioned in this post.
Please find it in the <em><a href="https://github.com/abhinav-anshul/Github-Auth" target="_blank" rel="noopener noreferrer">Repository</a></em></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/api">API</a><a class="margin-horiz--sm" href="/blog/tags/github">Github</a><a class="margin-horiz--sm" href="/blog/tags/o-auth">OAuth</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/moloch-dao"><div class="pagination-nav__sublabel">Previous Post</div><div class="pagination-nav__label">« DAO Governance and its Integration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/hello-koshik"><div class="pagination-nav__sublabel">Next Post</div><div class="pagination-nav__label">Hello from Koshik »</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/gitfunded" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://consensolabs.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Consenso Labs Logo" src="/img/consensolabs-logo-h.jpeg"></a></div><div>Copyright © 2020 Consenso Labs, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.30796e76.js"></script>
<script src="/runtime~main.600ba3f2.js"></script>
<script src="/main.6dc74b02.js"></script>
<script src="/1.e89857be.js"></script>
<script src="/2.6515a71b.js"></script>
<script src="/3.0c5af7b6.js"></script>
<script src="/ccc49370.ae24a7e2.js"></script>
<script src="/bea12b8e.71c67f4e.js"></script>
</body>
</html>